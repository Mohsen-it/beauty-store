import{j as e}from"./app.2137b7fd.js";import{r as t,G as r,S as a,x as s}from"./vendor.463d2c8a.js";import{A as d}from"./AdminLayout.4b72cfe0.js";import{m as i}from"./motion.6f439a0f.js";import"./DarkModeToggle.62e448ce.js";const l=({users:l,filters:n,roles:c})=>{const[o,x]=t.useState(n.search||""),[m,g]=t.useState(n.role||""),[h,p]=t.useState(n.page||1),[u,y]=t.useState(!0),{get:k,processing:f}=r();t.useEffect((()=>{if(u)return void y(!1);const e=setTimeout((()=>{k(route("admin.users.index",{search:o,role:m,page:h}))}),500);return()=>clearTimeout(e)}),[o,m,h]);const b=e=>{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(t)};return e.jsxs(d,{title:"Users Management",children:[e.jsx(a,{title:"Users Management"}),e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Manage Users"}),e.jsx(s,{href:route("admin.users.create"),className:"px-4 py-2 bg-pink-600 text-white rounded-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 dark:focus:ring-offset-gray-800",children:"Add New User"})]}),e.jsx("div",{className:"mb-6 bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Search"}),e.jsx("input",{type:"text",id:"search",value:o,onChange:e=>x(e.target.value),placeholder:"Search by name or email...",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-pink-500 focus:ring-pink-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),e.jsxs("select",{id:"role",value:m,onChange:e=>g(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-pink-500 focus:ring-pink-500",children:[e.jsx("option",{value:"",children:"All Roles"}),c.map((t=>e.jsx("option",{value:t,children:t},t)))]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-md",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.data.length>0?l.data.map((t=>e.jsxs(i.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-gray-500 dark:text-gray-300",children:t.name.charAt(0).toUpperCase()})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-300",children:t.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(t.is_admin?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:t.is_admin?"Admin":"Customer"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-300",children:b(t.created_at)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(t.active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:t.active?"Active":"Suspended"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(s,{href:route("admin.users.edit",t.id),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Edit"}),e.jsx(s,{href:route("admin.users.toggle-active",t.id),method:"post",as:"button",className:t.active?"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300":"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:t.active?"Suspend":"Activate"}),!t.is_admin&&e.jsx(s,{href:route("admin.users.assign-role",t.id),method:"post",data:{role:"admin"},as:"button",className:"text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300",children:"Make Admin"}),t.is_admin&&1!==t.id&&e.jsx(s,{href:route("admin.users.assign-role",t.id),method:"post",data:{role:"customer"},as:"button",className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Remove Admin"})]})})]},t.id))):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"No users found"})})})]})}),l.data.length>0&&e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",e.jsx("span",{className:"font-medium",children:l.from})," to ",e.jsx("span",{className:"font-medium",children:l.to})," of ",e.jsx("span",{className:"font-medium",children:l.total})," users"]}),e.jsx("div",{className:"flex space-x-2",children:l.links.map(((t,r)=>e.jsx("button",{className:`px-3 py-1 rounded ${t.active?"bg-pink-600 text-white":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"} ${t.url?"":"opacity-50 cursor-not-allowed"}`,disabled:!t.url,onClick:()=>t.url&&p(t.label),children:t.label.replace("&laquo;","«").replace("&raquo;","»")},r)))})]})]})};export{l as default};
