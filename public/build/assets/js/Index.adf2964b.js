var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,l=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,i=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&l(e,r,t[r]);if(a)for(var r of a(t))d.call(t,r)&&l(e,r,t[r]);return e},n=(e,a)=>t(e,r(a));import{j as o}from"./app.2137b7fd.js";import{r as c,G as x,S as m,x as g}from"./vendor.463d2c8a.js";import{A as p}from"./AdminLayout.4b72cfe0.js";import{m as u}from"./motion.6f439a0f.js";import"./DarkModeToggle.62e448ce.js";const h=({orders:e,filters:t,paymentMethods:r,paymentStatuses:a})=>{const[s,d]=c.useState(t.search||""),[l,h]=c.useState(t.status||""),[y,k]=c.useState(t.payment_method||""),[b,f]=c.useState(t.payment_status||""),[j,v]=c.useState({from:t.date_from||"",to:t.date_to||""}),[w,N]=c.useState(t.page||1),[_,S]=c.useState(!0),{get:C,processing:O}=x();c.useEffect((()=>{if(_)return void S(!1);const e=setTimeout((()=>{C(route("admin.orders.index",{search:s,status:l,payment_method:y,payment_status:b,date_from:j.from,date_to:j.to,page:w}))}),500);return()=>clearTimeout(e)}),[s,l,y,b,j,w]);const P=e=>{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)},D=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300";case"processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300";case"shipped":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},F=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300";case"refunded":return"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};return o.jsxs(p,{title:"Orders Management",children:[o.jsx(m,{title:"Orders Management"}),o.jsx("div",{className:"mb-6",children:o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Manage Orders"})}),o.jsx("div",{className:"mb-6 bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Search"}),o.jsx("input",{type:"text",id:"search",value:s,onChange:e=>d(e.target.value),placeholder:"Order #, Customer name, email...",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-pink-500 focus:ring-pink-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Order Status"}),o.jsxs("select",{id:"status",value:l,onChange:e=>h(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-pink-500 focus:ring-pink-500",children:[o.jsx("option",{value:"",children:"All Statuses"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"processing",children:"Processing"}),o.jsx("option",{value:"shipped",children:"Shipped"}),o.jsx("option",{value:"delivered",children:"Delivered"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"payment_method",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Method"}),o.jsxs("select",{id:"payment_method",value:y,onChange:e=>k(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-pink-500 focus:ring-pink-500",children:[o.jsx("option",{value:"",children:"All Payment Methods"}),o.jsx("option",{value:"credit_card",children:"Credit Card"}),o.jsx("option",{value:"cash_on_delivery",children:"Cash on Delivery (COD)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"payment_status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Status"}),o.jsxs("select",{id:"payment_status",value:b,onChange:e=>f(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-pink-500 focus:ring-pink-500",children:[o.jsx("option",{value:"",children:"All Payment Statuses"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"failed",children:"Failed"}),o.jsx("option",{value:"refunded",children:"Refunded"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"date_from",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date From"}),o.jsx("input",{type:"date",id:"date_from",value:j.from,onChange:e=>v(n(i({},j),{from:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-pink-500 focus:ring-pink-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"date_to",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date To"}),o.jsx("input",{type:"date",id:"date_to",value:j.to,onChange:e=>v(n(i({},j),{to:e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-pink-500 focus:ring-pink-500"})]})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-md",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Order #"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Payment"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.data.length>0?e.data.map((e=>o.jsxs(u.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["#",e.id]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.user&&e.user.name?e.user.name:"Unknown"}),o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.user&&e.user.email?e.user.email:"Unknown"})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-300",children:P(e.created_at)})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",e.total]}),o.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.items_count," items"]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"cash_on_delivery"===e.payment_method?o.jsxs("span",{className:"inline-flex items-center",children:[o.jsx("span",{className:"mr-1 h-2 w-2 rounded-full bg-amber-500"}),"COD"]}):o.jsx("span",{children:"Credit Card"})}),o.jsx("span",{className:`mt-1 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${F(e.payment_status)}`,children:e.payment_status.charAt(0).toUpperCase()+e.payment_status.slice(1)})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(g,{href:route("admin.orders.show",e.id),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",children:"View"}),o.jsx(g,{href:route("admin.orders.invoice",e.id),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Invoice"}),o.jsx(g,{href:route("admin.orders.packing-slip",e.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"Packing Slip"})]})})]},e.id))):o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"No orders found"})})})]})}),e.data.length>0&&o.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",o.jsx("span",{className:"font-medium",children:e.from})," to ",o.jsx("span",{className:"font-medium",children:e.to})," of ",o.jsx("span",{className:"font-medium",children:e.total})," orders"]}),o.jsx("div",{className:"flex space-x-2",children:e.links.map(((e,t)=>o.jsx("button",{className:`px-3 py-1 rounded ${e.active?"bg-pink-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"} ${e.url?"":"opacity-50 cursor-not-allowed"}`,disabled:!e.url,onClick:()=>e.url&&N(e.label),children:e.label.replace("&laquo;","«").replace("&raquo;","»")},t)))})]})]})};export{h as default};
