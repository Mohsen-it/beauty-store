import{j as e,c as t}from"./app.3876bdb2.js";import{r as a,S as r,x as i,A as s}from"./vendor.463d2c8a.js";import{A as c}from"./AdminLayout.5ba2788b.js";import{m as d}from"./motion.6f439a0f.js";import"./DarkModeToggle.229fd434.js";const n=({categories:n,parentCategories:o})=>{const[l,x]=a.useState(""),[m,g]=a.useState(n),h=e=>{if(!e)return"None";const t=o.find((t=>t.id===e));return t?t.name:"Unknown"};return e.jsxs(c,{title:"Categories Management",children:[e.jsx(r,{title:"Categories Management"}),e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-cinematic-200",children:"Manage Categories"})," ",e.jsx(i,{href:route("admin.categories.create"),className:"px-4 py-2 bg-pink-600 text-white rounded-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 dark:bg-pink-700 dark:hover:bg-pink-600 dark:ring-offset-cinematic-800",children:"Add New Category"})]}),e.jsxs("div",{className:"mb-6 bg-white dark:bg-cinematic-800 p-4 rounded-lg shadow dark:shadow-soft border border-cinematic-200 dark:border-cinematic-700",children:[" ",e.jsxs("div",{className:"max-w-md",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 dark:text-cinematic-300",children:"Search Categories"})," ",e.jsx("input",{type:"text",id:"search",value:l,onChange:e=>{const t=e.target.value;if(x(t),""===t.trim())g(n);else{const e=n.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));g(e)}},placeholder:"Search by name...",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-cinematic-600 dark:bg-cinematic-700 dark:text-white shadow-sm focus:border-pink-500 focus:ring-pink-500"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-cinematic-800 shadow dark:shadow-soft overflow-hidden sm:rounded-md border border-cinematic-200 dark:border-cinematic-700",children:[" ",e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-cinematic-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-cinematic-700",children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Name"]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Slug"]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Parent Category"]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Order"]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Status"]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Actions"]})]})}),e.jsx("tbody",{className:"bg-white dark:bg-cinematic-800 divide-y divide-gray-200 dark:divide-cinematic-700",children:m.length>0?m.map((a=>{return e.jsxs(d.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"hover:bg-gray-50 dark:hover:bg-cinematic-700/50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-cinematic-200",children:a.name})," "]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-cinematic-400",children:a.slug})," "]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-cinematic-300",children:h(a.parent_id)})," "]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-cinematic-300",children:a.order})," "]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(r=a.is_active,r?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"),children:a.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(i,{href:route("admin.categories.show",a.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"View"}),e.jsx(i,{href:route("admin.categories.edit",a.id),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Edit"}),e.jsx("button",{type:"button",onClick:()=>(e=>{const a=n.find((t=>t.id===e)),r=!a||!a.is_active;s.post(route("admin.categories.toggle-active",e),{},{preserveScroll:!0,onSuccess:()=>{t.success(`Category ${r?"activated":"deactivated"} successfully`)},onError:e=>{t.error("Failed to update category status"),Object.keys(e).length>0&&Object.values(e).forEach((e=>{t.error(e)}))}})})(a.id),className:""+(a.is_active?"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300":"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300"),children:a.is_active?"Deactivate":"Activate"}),e.jsx("button",{type:"button",onClick:()=>{return e=a.id,void(confirm("Are you sure you want to delete this category? This will only work if the category has no products or subcategories.")&&s.delete(route("admin.categories.destroy",e),{preserveScroll:!0,onSuccess:()=>{t.success("Category deleted successfully")},onError:e=>{t.error("Failed to delete category"),Object.keys(e).length>0&&Object.values(e).forEach((e=>{t.error(e)}))}}));var e},className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})})]},a.id);var r})):e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500 dark:text-cinematic-400",children:[" ","No categories found"]})})})]})]}),e.jsxs("div",{className:"mt-8 bg-white dark:bg-cinematic-800 p-6 rounded-lg shadow dark:shadow-soft border border-cinematic-200 dark:border-cinematic-700",children:[" ",e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-cinematic-200 mb-4",children:"Category Order"})," ",e.jsxs("p",{className:"text-sm text-gray-600 dark:text-cinematic-300 mb-4",children:[" ","Drag and drop categories to change their display order. Changes will be saved automatically."]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-cinematic-700 p-4 rounded-md",children:[" ",e.jsxs("p",{className:"text-center text-gray-500 dark:text-cinematic-400 italic",children:[" ","Drag and drop functionality would be implemented here with react-beautiful-dnd"]})]})]})]})};export{n as default};
