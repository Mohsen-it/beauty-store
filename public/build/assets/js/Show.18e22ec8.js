var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,c=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,n=(e,t)=>{for(var s in t||(t={}))i.call(t,s)&&c(e,s,t[s]);if(a)for(var s of a(t))r.call(t,s)&&c(e,s,t[s]);return e};import{j as d}from"./app.5f1fd49d.js";import{R as l,r as o,G as m,X as x,S as p,x as h}from"./vendor.463d2c8a.js";import{C as u}from"./CinematicLayout.198aa9ac.js";import{S as j,D as g,M as b}from"./DangerButton.7dcd4368.js";import{T as f}from"./TextInput.05edf537.js";import{I as k}from"./InputLabel.40f44970.js";import{m as v}from"./motion.6f439a0f.js";import{P as N}from"./PrimaryButton.4cdcd1af.js";import{f as y,e as w}from"./utils.403bf355.js";import"./ResponsiveNavLink.d0cba9ca.js";import"./DarkModeToggle.86697078.js";import"./transition.bd662076.js";function C(e){var c=e,{className:o="",isFocused:m=!1,icon:x=null}=c,p=((e,t)=>{var s={};for(var c in e)i.call(e,c)&&t.indexOf(c)<0&&(s[c]=e[c]);if(null!=e&&a)for(var c of a(e))t.indexOf(c)<0&&r.call(e,c)&&(s[c]=e[c]);return s})(c,["className","isFocused","icon"]);const h=l.useRef();return l.useEffect((()=>{m&&h.current.focus()}),[]),d.jsxs("div",{className:"relative group",children:[x&&d.jsx("div",{className:"absolute top-3 left-3 flex items-center pointer-events-none",children:d.jsx("span",{className:"text-gray-500 dark:text-gray-400 sm:text-sm",children:x})}),d.jsx(v.textarea,(u=n({},p),j={whileFocus:{scale:1.01},transition:{type:"spring",stiffness:400,damping:17},className:`w-full px-4 py-3 ${x?"pl-10":""} rounded-xl border border-gray-200 dark:border-gray-700\n                    bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm focus:outline-none focus:ring-2\n                    focus:ring-pink-500 dark:focus:ring-pink-400 focus:border-transparent\n                    dark:text-gray-100 shadow-sm placeholder-gray-400 dark:placeholder-gray-500\n                    transition-all duration-300 min-h-[100px] resize-y ${o}`,ref:h},t(u,s(j)))),d.jsx("div",{className:"absolute inset-0 rounded-xl pointer-events-none bg-gradient-to-r from-pink-400/0 to-purple-500/0 group-focus-within:from-pink-400/10 group-focus-within:to-purple-500/10 transition-colors duration-300"})]});var u,j}function P({auth:e,order:t,orderHistory:s}){const[a,i]=o.useState(!1),[r,c]=o.useState(!1),{data:n,setData:l,post:v,processing:P,reset:O,errors:_}=m({reason:""}),S=x().props.currencySymbol,{data:D,setData:F,post:I,processing:T,reset:A,errors:R}=m({address:t.address,city:t.city,state:t.state||"",postal_code:t.postal_code,country:t.country,phone:t.phone||"",notes:t.notes||""}),q=e=>{const t=new Date(e);return y(t,"PPP",{locale:w})},M=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"shipped":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},$=e=>{switch(e){case"pending":return"Pending";case"processing":return"Processing";case"shipped":return"Shipped";case"delivered":return"Delivered";case"cancelled":return"Cancelled";default:return e}},B=["pending","processing"].includes(t.status),E=["pending"].includes(t.status);return d.jsxs(u,{user:e.user,header:d.jsxs("h2",{className:"font-semibold text-xl text-cinematic-900 dark:text-white leading-tight",children:["Order Details #",t.order_number]}),children:[d.jsx(p,{title:`Order details #${t.order_number}`}),d.jsx("div",{className:"py-12",children:d.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[d.jsx("div",{className:"mb-6",children:d.jsx(h,{href:route("orders.index"),className:"text-pink-600 hover:text-pink-900 dark:text-pink-400 dark:hover:text-pink-300 transition-colors duration-150",children:"← Back to Orders"})}),d.jsx("div",{className:"bg-white dark:bg-cinematic-800 overflow-hidden shadow-sm dark:shadow-soft sm:rounded-lg mb-6 border border-cinematic-200 dark:border-cinematic-700",children:d.jsxs("div",{className:"p-6 text-cinematic-900 dark:text-white",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-lg font-medium text-cinematic-900 dark:text-white",children:"Order Information"}),d.jsx("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${M(t.status)}`,children:$(t.status)})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-cinematic-600 dark:text-cinematic-400",children:"Order Number:"}),d.jsx("p",{className:"font-medium",children:t.order_number})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-cinematic-600 dark:text-cinematic-400",children:"Order Date:"}),d.jsx("p",{className:"font-medium",children:q(t.created_at)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-cinematic-600 dark:text-cinematic-400",children:"Payment Method:"}),d.jsx("p",{className:"font-medium",children:"credit_card"===t.payment_method?"Credit Card":"paypal"===t.payment_method?"PayPal":"Cash on Delivery"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-cinematic-600 dark:text-cinematic-400",children:"Payment Status:"}),d.jsx("p",{className:"font-medium",children:"pending"===t.payment_status?"Pending":"paid"===t.payment_status?"Paid":"Payment Failed"})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[d.jsx("div",{className:"bg-white dark:bg-cinematic-800 overflow-hidden shadow-sm dark:shadow-soft sm:rounded-lg border border-cinematic-200 dark:border-cinematic-700",children:d.jsxs("div",{className:"p-6 text-cinematic-900 dark:text-white",children:[d.jsx("h3",{className:"text-lg font-medium text-cinematic-900 dark:text-white mb-4",children:"Shipping Information"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{children:[d.jsx("span",{className:"text-cinematic-600 dark:text-cinematic-400",children:"Name:"})," ",t.first_name," ",t.last_name]}),d.jsxs("p",{children:[d.jsx("span",{className:"text-cinematic-600 dark:text-cinematic-400",children:"Email:"})," ",t.email]}),d.jsxs("p",{children:[d.jsx("span",{className:"text-cinematic-600 dark:text-cinematic-400",children:"Phone:"})," ",t.phone||"Not Available"]}),d.jsxs("p",{children:[d.jsx("span",{className:"text-cinematic-600 dark:text-cinematic-400",children:"Address:"})," ",t.address]}),d.jsxs("p",{children:[d.jsx("span",{className:"text-cinematic-600 dark:text-cinematic-400",children:"City:"})," ",t.city]}),d.jsxs("p",{children:[d.jsx("span",{className:"text-cinematic-600 dark:text-cinematic-400",children:"State/Region:"})," ",t.state||"Not Available"]}),d.jsxs("p",{children:[d.jsx("span",{className:"text-cinematic-600 dark:text-cinematic-400",children:"Postal Code:"})," ",t.postal_code]}),d.jsxs("p",{children:[d.jsx("span",{className:"text-cinematic-600 dark:text-cinematic-400",children:"Country:"})," ",t.country]})]})]})}),d.jsx("div",{className:"bg-white dark:bg-cinematic-800 overflow-hidden shadow-sm dark:shadow-soft sm:rounded-lg border border-cinematic-200 dark:border-cinematic-700",children:d.jsxs("div",{className:"p-6 text-cinematic-900 dark:text-white",children:[d.jsx("h3",{className:"text-lg font-medium text-cinematic-900 dark:text-white mb-4",children:"Order Summary"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"flex justify-between",children:[d.jsx("span",{className:"text-cinematic-600 dark:text-cinematic-400",children:"Subtotal:"}),d.jsxs("span",{children:[t.subtotal,"  ",S]})]}),d.jsxs("p",{className:"flex justify-between",children:[d.jsx("span",{className:"text-cinematic-600 dark:text-cinematic-400",children:"Tax:"}),d.jsxs("span",{children:[t.tax," ",S]})]}),d.jsxs("p",{className:"flex justify-between",children:[d.jsx("span",{className:"text-cinematic-600 dark:text-cinematic-400",children:"Shipping:"}),d.jsxs("span",{children:[t.shipping,"  ",S]})]}),d.jsxs("p",{className:"flex justify-between font-bold border-t border-cinematic-200 dark:border-cinematic-700 pt-2",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:[t.total,"  ",S]})]})]})]})})]}),d.jsx("div",{className:"bg-white dark:bg-cinematic-800 overflow-hidden shadow-sm dark:shadow-soft sm:rounded-lg mb-6 border border-cinematic-200 dark:border-cinematic-700",children:d.jsxs("div",{className:"p-6 text-cinematic-900 dark:text-white",children:[d.jsx("h3",{className:"text-lg font-medium text-cinematic-900 dark:text-white mb-4",children:"Products"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-cinematic-200 dark:divide-cinematic-700",children:[d.jsx("thead",{className:"bg-pink-50 dark:bg-cinematic-900",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-pink-700 dark:text-pink-400 uppercase tracking-wider",children:"Product"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-pink-700 dark:text-pink-400 uppercase tracking-wider",children:"Price"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-pink-700 dark:text-pink-400 uppercase tracking-wider",children:"Quantity"}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-pink-700 dark:text-pink-400 uppercase tracking-wider",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white dark:bg-cinematic-800 divide-y divide-cinematic-200 dark:divide-cinematic-700",children:t.items.map((e=>d.jsxs("tr",{className:"hover:bg-pink-50 dark:hover:bg-cinematic-700/50 transition-colors duration-150",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-cinematic-900 dark:text-white",children:e.product_name}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-cinematic-600 dark:text-cinematic-300",children:[e.price,"  ",S]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-cinematic-600 dark:text-cinematic-300",children:e.quantity}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-cinematic-600 dark:text-cinematic-300",children:[e.subtotal,"  ",S]})]},e.id)))})]})})]})}),s&&s.length>0&&d.jsx("div",{className:"bg-white dark:bg-cinematic-800 overflow-hidden shadow-sm dark:shadow-soft sm:rounded-lg mb-6 border border-cinematic-200 dark:border-cinematic-700",children:d.jsxs("div",{className:"p-6 text-cinematic-900 dark:text-white",children:[d.jsx("h3",{className:"text-lg font-medium text-cinematic-900 dark:text-white mb-4",children:"Order History"}),d.jsx("div",{className:"space-y-4",children:s.map((e=>d.jsxs("div",{className:"border-b border-cinematic-200 dark:border-cinematic-700 pb-3 last:border-b-0 last:pb-0",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M(e.status)}`,children:$(e.status)}),d.jsx("span",{className:"text-sm text-cinematic-600 dark:text-cinematic-400",children:q(e.created_at)})]}),e.comment&&d.jsx("p",{className:"mt-1 text-sm text-cinematic-600 dark:text-cinematic-400",children:e.comment})]},e.id)))})]})}),d.jsxs("div",{className:"flex justify-end space-x-4",children:[E&&d.jsx(j,{onClick:()=>c(!0),children:"Modify Order"}),B&&d.jsx(g,{onClick:()=>i(!0),children:"Cancel Order"})]})]})}),d.jsx(b,{show:a,onClose:()=>i(!1),children:d.jsxs("form",{onSubmit:e=>{e.preventDefault(),v(route("orders.cancel",t.id),{onSuccess:()=>{O(),i(!1)}})},className:"p-6",children:[d.jsx("h2",{className:"text-lg font-medium text-cinematic-900 dark:text-white",children:"Cancel Order"}),d.jsx("p",{className:"mt-1 text-sm text-cinematic-600 dark:text-cinematic-400",children:"Are you sure you want to cancel this order? This action cannot be undone."}),d.jsxs("div",{className:"mt-4",children:[d.jsx(k,{htmlFor:"reason",value:"Reason for cancellation (optional)"}),d.jsx(C,{id:"reason",value:n.reason,onChange:e=>l("reason",e.target.value),className:"mt-1 block w-full"})]}),d.jsxs("div",{className:"mt-6 flex justify-end",children:[d.jsx(j,{onClick:()=>i(!1),children:"Nevermind"}),d.jsx(g,{className:"ml-3",disabled:P,children:"Cancel Order"})]})]})}),d.jsx(b,{show:r,onClose:()=>c(!1),children:d.jsxs("form",{onSubmit:e=>{e.preventDefault(),I(route("orders.modify",t.id),{onSuccess:()=>{A(),c(!1)}})},className:"p-6",children:[d.jsx("h2",{className:"text-lg font-medium text-cinematic-900 dark:text-white",children:"Modify Shipping Information"}),d.jsx("p",{className:"mt-1 text-sm text-cinematic-600 dark:text-cinematic-400",children:"Update your shipping information below."}),d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx(k,{htmlFor:"address",value:"Address"}),d.jsx(f,{id:"address",value:D.address,onChange:e=>F("address",e.target.value),className:"mt-1 block w-full",required:!0})]}),d.jsxs("div",{children:[d.jsx(k,{htmlFor:"city",value:"City"}),d.jsx(f,{id:"city",value:D.city,onChange:e=>F("city",e.target.value),className:"mt-1 block w-full",required:!0})]}),d.jsxs("div",{children:[d.jsx(k,{htmlFor:"state",value:"State/Region"}),d.jsx(f,{id:"state",value:D.state,onChange:e=>F("state",e.target.value),className:"mt-1 block w-full"})]}),d.jsxs("div",{children:[d.jsx(k,{htmlFor:"postal_code",value:"Postal Code"}),d.jsx(f,{id:"postal_code",value:D.postal_code,onChange:e=>F("postal_code",e.target.value),className:"mt-1 block w-full",required:!0})]}),d.jsxs("div",{children:[d.jsx(k,{htmlFor:"country",value:"Country"}),d.jsx(f,{id:"country",value:D.country,onChange:e=>F("country",e.target.value),className:"mt-1 block w-full",required:!0})]}),d.jsxs("div",{children:[d.jsx(k,{htmlFor:"phone",value:"Phone"}),d.jsx(f,{id:"phone",value:D.phone,onChange:e=>F("phone",e.target.value),className:"mt-1 block w-full"})]}),d.jsxs("div",{children:[d.jsx(k,{htmlFor:"notes",value:"Additional Notes"}),d.jsx(C,{id:"notes",value:D.notes,onChange:e=>F("notes",e.target.value),className:"mt-1 block w-full"})]})]}),d.jsxs("div",{className:"mt-6 flex justify-end",children:[d.jsx(j,{onClick:()=>c(!1),children:"Cancel"}),d.jsx(N,{className:"ml-3",disabled:T,children:"Save Changes"})]})]})})]})}export{P as default};
