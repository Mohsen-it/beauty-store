import{j as e}from"./app.d210789f.js";import{r as s,G as a,x as t}from"./vendor.463d2c8a.js";const r=({category:r=null,parentCategories:i=[],isEditing:l=!1})=>{const[n,d]=s.useState(null),[o,c]=s.useState(r&&r.image?r.image:null),{data:m,setData:x,post:h,put:p,processing:u,errors:g,reset:j}=a({name:r?r.name:"",description:r?r.description:"",parent_id:r?r.parent_id:"",status:r?r.status:"active",order:r?r.order:0,image:null});return e.jsx("form",{onSubmit:e=>{e.preventDefault(),l?p(route("admin.categories.update",r.id)):h(route("admin.categories.store"))},className:"space-y-6",children:e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:l?"Edit Category":"Add New Category"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"form-label",children:"Category Name"}),e.jsx("input",{id:"name",type:"text",className:"form-input "+(g.name?"border-red-500":""),value:m.name,onChange:e=>x("name",e.target.value),required:!0}),g.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"parent_id",className:"form-label",children:"Parent Category"}),e.jsxs("select",{id:"parent_id",className:"form-input "+(g.parent_id?"border-red-500":""),value:m.parent_id,onChange:e=>x("parent_id",e.target.value),children:[e.jsx("option",{value:"",children:"None (Top Level)"}),i.map((s=>e.jsx("option",{value:s.id,children:s.name},s.id)))]}),g.parent_id&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.parent_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),e.jsxs("select",{id:"status",className:"form-input "+(g.status?"border-red-500":""),value:m.status,onChange:e=>x("status",e.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),g.status&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.status})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"order",className:"form-label",children:"Display Order"}),e.jsx("input",{id:"order",type:"number",min:"0",className:"form-input "+(g.order?"border-red-500":""),value:m.order,onChange:e=>x("order",e.target.value)}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lower numbers appear first"}),g.order&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.order})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),e.jsx("textarea",{id:"description",rows:"3",className:"form-input "+(g.description?"border-red-500":""),value:m.description,onChange:e=>x("description",e.target.value)}),g.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Category Image"}),e.jsxs("div",{className:"mt-1 flex items-center space-x-6",children:[e.jsx("div",{className:"flex-shrink-0",children:o?e.jsxs("div",{className:"relative h-24 w-24 rounded-md overflow-hidden bg-gray-100",children:[e.jsx("img",{src:o,alt:"Category preview",className:"h-24 w-24 object-cover"}),e.jsx("button",{type:"button",onClick:()=>{c(null),d(null),x("image",null)},className:"absolute top-0 right-0 p-1 bg-white rounded-full shadow-sm",children:e.jsx("svg",{className:"h-4 w-4 text-gray-400 hover:text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}):e.jsx("div",{className:"h-24 w-24 rounded-md overflow-hidden bg-gray-100 flex items-center justify-center",children:e.jsx("svg",{className:"h-12 w-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{htmlFor:"image",className:"relative cursor-pointer bg-white rounded-md font-medium text-pink-600 hover:text-pink-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-pink-500",children:[e.jsx("span",{children:"Upload an image"}),e.jsx("input",{id:"image",name:"image",type:"file",className:"sr-only",accept:"image/*",onChange:e=>{if(e.target.files[0]){const s=e.target.files[0];d(s),c(URL.createObjectURL(s)),x("image",s)}}})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 2MB"}),g.image&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.image})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 text-right",children:[e.jsx(t,{href:route("admin.categories.index"),className:"btn btn-secondary mr-2",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":l?"Update Category":"Create Category"})]})]})})};export{r as default};
