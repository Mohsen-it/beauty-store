var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,d=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,o=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&d(e,r,t[r]);if(a)for(var r of a(t))i.call(t,r)&&d(e,r,t[r]);return e},c=(e,a)=>t(e,r(a));import{j as l}from"./app.bdfb876e.js";import{r as n,G as m,S as x}from"./vendor.463d2c8a.js";import{A as g}from"./AdminLayout.9ce4ef2e.js";import{C as p,a as b,L as h,B as u,b as y,P as f,p as k,c as j,d as v,e as w}from"./chart.e59e89b8.js";import{m as N}from"./motion.6f439a0f.js";import"./DarkModeToggle.91205198.js";p.register(b,h,u,y,f,k,j,v);const S=({salesData:e,timeRanges:t})=>{var r,a,s,i,d;const[p,b]=n.useState("week"),[h,u]=n.useState(null),{get:y,processing:f}=m(),k=e=>{b(e),y(route("admin.reports.sales",{period:e}))};n.useEffect((()=>{if(e){const t=document.documentElement.classList.contains("dark"),r=t?"#e5e7eb":"#1f2937";u({labels:e.labels,datasets:[{label:"Sales",data:e.values,backgroundColor:"rgba(236, 72, 153, 0.2)",borderColor:"rgba(236, 72, 153, 1)",borderWidth:2,tension:.4,pointBackgroundColor:"rgba(236, 72, 153, 1)",pointBorderColor:"#fff"}]}),v((e=>c(o({},e),{plugins:c(o({},e.plugins),{legend:c(o({},e.plugins.legend),{labels:{color:r}}),title:c(o({},e.plugins.title),{color:r,text:`Sales Report - ${p.charAt(0).toUpperCase()+p.slice(1)}`}),tooltip:{titleColor:r,bodyColor:r,backgroundColor:t?"rgba(31, 41, 55, 0.8)":"rgba(255, 255, 255, 0.8)",borderColor:t?"rgba(107, 114, 128, 0.5)":"rgba(209, 213, 219, 0.5)",borderWidth:1}}),scales:{x:{ticks:{color:r},grid:{color:t?"rgba(55, 65, 81, 0.3)":"rgba(209, 213, 219, 0.3)"}},y:{beginAtZero:!0,ticks:{color:r,callback:function(e){return"$"+e}},grid:{color:t?"rgba(55, 65, 81, 0.3)":"rgba(209, 213, 219, 0.3)"}}}})))}}),[e,p]);const[j,v]=n.useState({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#1f2937"}},title:{display:!0,text:"Sales Report",color:"#1f2937"}},scales:{x:{ticks:{color:"#1f2937"},grid:{color:"rgba(209, 213, 219, 0.3)"}},y:{beginAtZero:!0,ticks:{color:"#1f2937",callback:function(e){return"$"+e}},grid:{color:"rgba(209, 213, 219, 0.3)"}}}}),S=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return l.jsxs(g,{title:"Sales Reports",children:[l.jsx(x,{title:"Sales Reports"}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex space-x-4 bg-white p-4 rounded-lg shadow",children:[l.jsx("button",{onClick:()=>k("day"),className:"px-4 py-2 rounded-md "+("day"===p?"bg-pink-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Today"}),l.jsx("button",{onClick:()=>k("week"),className:"px-4 py-2 rounded-md "+("week"===p?"bg-pink-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"This Week"}),l.jsx("button",{onClick:()=>k("month"),className:"px-4 py-2 rounded-md "+("month"===p?"bg-pink-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"This Month"}),l.jsx("button",{onClick:()=>k("year"),className:"px-4 py-2 rounded-md "+("year"===p?"bg-pink-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"This Year"})]})}),l.jsxs("div",{className:"mb-6 flex justify-end space-x-2",children:[l.jsx("a",{href:route("admin.reports.export",{type:"sales",format:"pdf",period:p}),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:bg-red-700 dark:hover:bg-red-600 dark:ring-offset-cinematic-800",target:"_blank",children:"Export PDF"}),l.jsx("a",{href:route("admin.reports.export",{type:"sales",format:"excel",period:p}),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 dark:bg-green-700 dark:hover:bg-green-600 dark:ring-offset-cinematic-800",target:"_blank",children:"Export Excel"})]}),l.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-cinematic-800 p-6 rounded-lg shadow dark:shadow-soft mb-6 border border-cinematic-200 dark:border-cinematic-700",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-cinematic-200 mb-4",children:"Sales Overview"}),l.jsx("div",{className:"relative h-96",children:h&&l.jsx(w,{data:h,options:j})})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white dark:bg-cinematic-800 p-4 rounded-lg shadow dark:shadow-soft border border-cinematic-200 dark:border-cinematic-700",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-cinematic-400",children:"Total Sales"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-cinematic-200",children:S((null==(r=null==e?void 0:e.summary)?void 0:r.total)||0)})]}),l.jsxs("div",{className:"bg-white dark:bg-cinematic-800 p-4 rounded-lg shadow dark:shadow-soft border border-cinematic-200 dark:border-cinematic-700",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-cinematic-400",children:"Average Order Value"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-cinematic-200",children:S((null==(a=null==e?void 0:e.summary)?void 0:a.average)||0)})]}),l.jsxs("div",{className:"bg-white dark:bg-cinematic-800 p-4 rounded-lg shadow dark:shadow-soft border border-cinematic-200 dark:border-cinematic-700",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-cinematic-400",children:"Orders Count"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-cinematic-200",children:(null==(s=null==e?void 0:e.summary)?void 0:s.count)||0})]}),l.jsxs("div",{className:"bg-white dark:bg-cinematic-800 p-4 rounded-lg shadow dark:shadow-soft border border-cinematic-200 dark:border-cinematic-700",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-cinematic-400",children:"Items Sold"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-cinematic-200",children:(null==(i=null==e?void 0:e.summary)?void 0:i.items)||0})]})]}),l.jsxs("div",{className:"bg-white dark:bg-cinematic-800 shadow dark:shadow-soft overflow-hidden sm:rounded-md border border-cinematic-200 dark:border-cinematic-700",children:[l.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-cinematic-700",children:l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-cinematic-200",children:"Detailed Sales Data"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-cinematic-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-cinematic-700",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:"Date"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:"Orders"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:"Items Sold"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:"Revenue"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-cinematic-800 divide-y divide-gray-200 dark:divide-cinematic-700",children:(null==(d=null==e?void 0:e.details)?void 0:d.length)>0?e.details.map(((e,t)=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-cinematic-700/50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-cinematic-300",children:e.date}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-cinematic-300",children:e.orders}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-cinematic-300",children:e.items}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-cinematic-300",children:S(e.revenue)})]},t))):l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500 dark:text-cinematic-400",children:"No detailed sales data available for this period."})})})]})})]})]})};export{S as default};
