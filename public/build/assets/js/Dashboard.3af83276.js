import{j as e}from"./app.24630b9d.js";import{r as t,A as r,S as a}from"./vendor.463d2c8a.js";import{A as i}from"./AdminLayout.01197bb7.js";import{C as s,a as c,L as d,B as o,b as n,P as m,p as l,c as x,d as h,e as b,f as g}from"./chart.e59e89b8.js";import{m as p}from"./motion.6f439a0f.js";import"./DarkModeToggle.f964d70c.js";s.register(c,d,o,n,m,l,x,h);const u=({title:t,value:r,icon:a,color:i})=>e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`bg-white dark:bg-cinematic-800 overflow-hidden shadow dark:shadow-soft rounded-lg border border-cinematic-200 dark:border-cinematic-700 ${i}`,children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-cinematic-100 dark:bg-cinematic-700 rounded-md p-3",children:a}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-cinematic-500 dark:text-cinematic-400 truncate",children:t}),e.jsx("dd",{children:e.jsx("div",{className:"text-lg font-medium text-cinematic-900 dark:text-white",children:r})})]})})]})})}),k=({stats:s,recentOrders:c,topProducts:d,salesData:o,ordersByStatus:n})=>{const[m,l]=t.useState("week"),[x,h]=t.useState(o),[k,v]=t.useState(document.documentElement.classList.contains("dark")),j=t.useRef(!0);t.useEffect((()=>{h(o)}),[o]),t.useEffect((()=>{j.current?j.current=!1:r.get(route("admin.dashboard",{period:m}),{},{preserveState:!0,preserveScroll:!0,replace:!0})}),[m]),t.useEffect((()=>{const e=new MutationObserver((e=>{e.forEach((e=>{"class"===e.attributeName&&v(document.documentElement.classList.contains("dark"))}))}));return e.observe(document.documentElement,{attributes:!0}),()=>e.disconnect()}),[]);const w={labels:x.labels,datasets:[{label:"Sales",data:x.values,backgroundColor:"rgba(236, 72, 153, 0.2)",borderColor:"rgba(236, 72, 153, 1)",borderWidth:2,tension:.4,pointBackgroundColor:"rgba(236, 72, 153, 1)",pointBorderColor:k?"#1f2937":"#fff"}]},f={labels:Object.keys(n),datasets:[{label:"Orders by Status",data:Object.values(n),backgroundColor:["rgba(52, 211, 153, 0.8)","rgba(59, 130, 246, 0.8)","rgba(236, 72, 153, 0.8)","rgba(251, 191, 36, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:k?"#374151":"#fff",borderWidth:1}]},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:k?"#e5e7eb":"#374151",font:{size:12}}},tooltip:{backgroundColor:k?"rgba(55, 65, 81, 0.9)":"rgba(31, 41, 55, 0.9)",titleColor:"#f9fafb",bodyColor:"#d1d5db",borderColor:k?"#4b5563":"#6b7280",borderWidth:1}},scales:{y:{beginAtZero:!0,ticks:{color:k?"#9ca3af":"#6b7280",font:{size:10}},grid:{color:k?"rgba(75, 85, 99, 0.5)":"rgba(229, 231, 235, 0.8)",drawBorder:!1}},x:{ticks:{color:k?"#9ca3af":"#6b7280",font:{size:10}},grid:{color:k?"rgba(75, 85, 99, 0.5)":"rgba(229, 231, 235, 0.8)",drawBorder:!1}}}};return e.jsxs(i,{title:"Dashboard",children:[e.jsx(a,{title:"Admin Dashboard"}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex space-x-4 bg-white dark:bg-cinematic-800 p-4 rounded-lg shadow dark:shadow-soft border border-cinematic-200 dark:border-cinematic-700",children:[e.jsx("button",{onClick:()=>l("day"),className:`px-4 py-2 rounded-md text-sm font-medium ${"day"===m?"bg-primary-600 dark:bg-primary-700 text-white":"bg-cinematic-100 dark:bg-cinematic-700 text-cinematic-700 dark:text-cinematic-300 hover:bg-cinematic-200 dark:hover:bg-cinematic-600"} transition-colors duration-300`,children:"Today"}),e.jsx("button",{onClick:()=>l("week"),className:`px-4 py-2 rounded-md text-sm font-medium ${"week"===m?"bg-primary-600 dark:bg-primary-700 text-white":"bg-cinematic-100 dark:bg-cinematic-700 text-cinematic-700 dark:text-cinematic-300 hover:bg-cinematic-200 dark:hover:bg-cinematic-600"} transition-colors duration-300`,children:"This Week"}),e.jsx("button",{onClick:()=>l("month"),className:`px-4 py-2 rounded-md text-sm font-medium ${"month"===m?"bg-primary-600 dark:bg-primary-700 text-white":"bg-cinematic-100 dark:bg-cinematic-700 text-cinematic-700 dark:text-cinematic-300 hover:bg-cinematic-200 dark:hover:bg-cinematic-600"} transition-colors duration-300`,children:"This Month"}),e.jsx("button",{onClick:()=>l("year"),className:`px-4 py-2 rounded-md text-sm font-medium ${"year"===m?"bg-primary-600 dark:bg-primary-700 text-white":"bg-cinematic-100 dark:bg-cinematic-700 text-cinematic-700 dark:text-cinematic-300 hover:bg-cinematic-200 dark:hover:bg-cinematic-600"} transition-colors duration-300`,children:"This Year"})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(u,{title:"Total Products",value:s.products,icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600 dark:text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),color:"border-primary-600 dark:border-primary-500"}),e.jsx(u,{title:"Total Orders",value:s.orders,icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),color:"border-blue-600 dark:border-blue-500"}),e.jsx(u,{title:"Total Revenue",value:`$${s.revenue}`,icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"border-green-600 dark:border-green-500"}),e.jsx(u,{title:"Total Users",value:s.users,icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600 dark:text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"border-purple-600 dark:border-purple-500"})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-cinematic-800 p-6 rounded-lg shadow dark:shadow-soft border border-cinematic-200 dark:border-cinematic-700",children:[e.jsx("h2",{className:"text-lg font-medium text-cinematic-900 dark:text-white mb-4",children:"Sales Overview"}),e.jsxs("div",{className:"h-64",children:[" ",e.jsx(b,{data:w,options:y})]})]}),e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-cinematic-800 p-6 rounded-lg shadow dark:shadow-soft border border-cinematic-200 dark:border-cinematic-700",children:[e.jsx("h2",{className:"text-lg font-medium text-cinematic-900 dark:text-white mb-4",children:"Orders by Status"}),e.jsxs("div",{className:"h-64",children:[" ",e.jsx(g,{data:f,options:y})]})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(p.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white dark:bg-cinematic-800 shadow-md dark:shadow-soft rounded-lg overflow-hidden border border-cinematic-200 dark:border-cinematic-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-cinematic-200 dark:border-cinematic-700",children:e.jsx("h2",{className:"text-lg font-medium text-cinematic-900 dark:text-white",children:"Recent Orders"})}),e.jsx("div",{className:"divide-y divide-cinematic-200 dark:divide-cinematic-700",children:c.length>0?c.map((t=>e.jsx("div",{className:"px-6 py-4 hover:bg-cinematic-50 dark:hover:bg-cinematic-700/50 transition-colors duration-150",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-cinematic-900 dark:text-white",children:["Order #",t.id]}),e.jsx("p",{className:"text-sm text-cinematic-500 dark:text-cinematic-400",children:t.user&&t.user.name?t.user.name:"Unknown User"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-cinematic-900 dark:text-white",children:["$",t.total]}),e.jsx("p",{className:"text-xs text-cinematic-500 dark:text-cinematic-400",children:t.created_at?new Date(t.created_at).toLocaleDateString():""})]})]})},t.id))):e.jsx("div",{className:"px-6 py-4 text-center text-cinematic-500 dark:text-cinematic-400",children:"No recent orders"})}),e.jsx("div",{className:"px-6 py-4 bg-cinematic-50 dark:bg-cinematic-900 border-t border-cinematic-200 dark:border-cinematic-700",children:e.jsx("a",{href:route("admin.orders.index"),className:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300",children:"View all orders →"})})]}),e.jsxs(p.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white dark:bg-cinematic-800 shadow-md dark:shadow-soft rounded-lg overflow-hidden border border-cinematic-200 dark:border-cinematic-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-cinematic-200 dark:border-cinematic-700",children:e.jsx("h2",{className:"text-lg font-medium text-cinematic-900 dark:text-white",children:"Top Products"})}),e.jsx("div",{className:"divide-y divide-cinematic-200 dark:divide-cinematic-700",children:d.length>0?d.map((t=>{var r;return e.jsx("div",{className:"px-6 py-4 hover:bg-cinematic-50 dark:hover:bg-cinematic-700/50 transition-colors duration-150",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-md overflow-hidden bg-cinematic-100 dark:bg-cinematic-700",children:e.jsx("img",{src:t.image?`/storage/${t.image}?v=${(new Date).getTime()}`:t.images&&(null==(r=t.images[0])?void 0:r.url)?t.images[0].image_url?`${t.images[0].image_url}?v=${(new Date).getTime()}`:`/storage/${t.images[0].url}?v=${(new Date).getTime()}`:`/assets/default-product.png?v=${(new Date).getTime()}`,alt:t.name||"Product",className:"h-full w-full object-cover"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-cinematic-900 dark:text-white",children:t.name||"Unnamed Product"}),e.jsx("p",{className:"text-sm text-cinematic-500 dark:text-cinematic-400",children:t.category?t.category.name:"Uncategorized"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-cinematic-900 dark:text-white",children:["$",t.price]}),e.jsxs("p",{className:"text-xs text-cinematic-500 dark:text-cinematic-400",children:[t.sales_count||0," sold"]})]})]})},t.id)})):e.jsx("div",{className:"px-6 py-4 text-center text-cinematic-500 dark:text-cinematic-400",children:"No top products data"})}),e.jsx("div",{className:"px-6 py-4 bg-cinematic-50 dark:bg-cinematic-900 border-t border-cinematic-200 dark:border-cinematic-700",children:e.jsx("a",{href:route("admin.products.index"),className:"text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300",children:"View all products →"})})]})]})]})};export{k as default};
