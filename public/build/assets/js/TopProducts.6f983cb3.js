import{j as e}from"./app.3894a3a4.js";import{r as t,S as r}from"./vendor.463d2c8a.js";import{A as a}from"./AdminLayout.d719d8eb.js";import{C as i,a as s,L as c,B as o,p as d,c as n,d as l,f as m}from"./chart.e59e89b8.js";import{m as x}from"./motion.6f439a0f.js";import"./DarkModeToggle.75e87d05.js";i.register(s,c,o,d,n,l);const p=({productsData:i,timeRanges:s})=>{const[c,o]=t.useState("month"),[d,n]=t.useState(10),[l,p]=t.useState(null),[g,h]=t.useState({});t.useEffect((()=>{if(i){const e=document.documentElement.classList.contains("dark"),t=e?"#e5e7eb":"#1f2937",r=e?"rgba(55, 65, 81, 0.3)":"rgba(209, 213, 219, 0.3)",a=e?"rgba(31, 41, 55, 0.8)":"rgba(255, 255, 255, 0.8)",s=e?"rgba(107, 114, 128, 0.5)":"rgba(209, 213, 219, 0.5)";p({labels:i.map((e=>e.name)),datasets:[{label:"Units Sold",data:i.map((e=>e.quantity)),backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1},{label:"Revenue",data:i.map((e=>e.revenue)),backgroundColor:"rgba(236, 72, 153, 0.5)",borderColor:"rgba(236, 72, 153, 1)",borderWidth:1}]}),h({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:t}},title:{display:!0,text:`Top ${d} Products - ${c.charAt(0).toUpperCase()+c.slice(1)}`,color:t},tooltip:{titleColor:t,bodyColor:t,backgroundColor:a,borderColor:s,borderWidth:1}},scales:{x:{ticks:{color:t},grid:{color:r}},y:{beginAtZero:!0,ticks:{color:t},grid:{color:r}}}})}}),[i,c,d]);const u=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return e.jsxs(a,{title:"Top Products Report",children:[e.jsx(r,{title:"Top Products Report"}),e.jsxs("div",{className:"mb-6 bg-white dark:bg-cinematic-800 p-4 rounded-lg shadow dark:shadow-soft border border-cinematic-200 dark:border-cinematic-700",children:[" ",e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"timeRange",className:"block text-sm font-medium text-gray-700 dark:text-cinematic-300",children:"Time Period"})," ",e.jsxs("select",{id:"timeRange",value:c,onChange:e=>o(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-cinematic-600 dark:bg-cinematic-700 dark:text-white shadow-sm focus:border-pink-500 focus:ring-pink-500",children:[e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"quarter",children:"This Quarter"}),e.jsx("option",{value:"year",children:"This Year"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"limit",className:"block text-sm font-medium text-gray-700 dark:text-cinematic-300",children:"Number of Products"})," ",e.jsxs("select",{id:"limit",value:d,onChange:e=>n(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-cinematic-600 dark:bg-cinematic-700 dark:text-white shadow-sm focus:border-pink-500 focus:ring-pink-500",children:[e.jsx("option",{value:"5",children:"Top 5"}),e.jsx("option",{value:"10",children:"Top 10"}),e.jsx("option",{value:"20",children:"Top 20"}),e.jsx("option",{value:"50",children:"Top 50"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{window.location.href=route("admin.reports.top-products",{period:c,limit:d})},className:"px-4 py-2 bg-pink-600 text-white rounded-md hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 dark:bg-pink-700 dark:hover:bg-pink-600 dark:ring-offset-cinematic-800",children:"Apply Filters"})})]})]}),e.jsxs("div",{className:"mb-6 flex justify-end space-x-2",children:[e.jsx("a",{href:route("admin.reports.export",{type:"top-products",format:"pdf",period:c,limit:d}),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:bg-red-700 dark:hover:bg-red-600 dark:ring-offset-cinematic-800",target:"_blank",children:"Export PDF"}),e.jsx("a",{href:route("admin.reports.export",{type:"top-products",format:"excel",period:c,limit:d}),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 dark:bg-green-700 dark:hover:bg-green-600 dark:ring-offset-cinematic-800",target:"_blank",children:"Export Excel"})]}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-cinematic-800 p-6 rounded-lg shadow dark:shadow-soft mb-6 border border-cinematic-200 dark:border-cinematic-700",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-cinematic-200 mb-4",children:"Top Products Overview"})," ",e.jsx("div",{className:"relative h-96",children:l&&e.jsx(m,{data:l,options:g})})]}),e.jsxs("div",{className:"bg-white dark:bg-cinematic-800 shadow dark:shadow-soft overflow-hidden sm:rounded-md border border-cinematic-200 dark:border-cinematic-700",children:[" ",e.jsxs("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-cinematic-700",children:[" ",e.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-cinematic-200",children:"Detailed Products Data"})," "]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-cinematic-700",children:[" ",e.jsxs("thead",{className:"bg-gray-50 dark:bg-cinematic-700",children:[" ",e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Rank"]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Product"]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Category"]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Units Sold"]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Revenue"]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-cinematic-400 uppercase tracking-wider",children:[" ","Average Price"]})]})]}),e.jsxs("tbody",{className:"bg-white dark:bg-cinematic-800 divide-y divide-gray-200 dark:divide-cinematic-700",children:[" ",null==i?void 0:i.map(((t,r)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-cinematic-700/50",children:[" ",e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-cinematic-300",children:[" ",r+1]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("img",{className:"h-10 w-10 rounded-md object-cover border border-gray-200 dark:border-cinematic-600",src:t.image||"https://images.unsplash.com/photo-1596462502278-27bfdc403348?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=580&q=80",alt:t.name})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-cinematic-200",children:t.name})," ",e.jsx("div",{className:"text-sm text-gray-500 dark:text-cinematic-400",children:t.sku||"No SKU"})," "]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-cinematic-300",children:[" ",t.category]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-cinematic-300",children:[" ",t.quantity]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-cinematic-300",children:[" ",u(t.revenue)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-cinematic-300",children:[" ",u(t.average_price)]})]},t.id)))]})]})})]})]})};export{p as default};
